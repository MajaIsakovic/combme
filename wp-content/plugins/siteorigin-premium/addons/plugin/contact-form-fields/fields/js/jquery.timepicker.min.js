/*!
 * jquery-timepicker v1.10.1 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 * Copyright (c) 2015 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 * License: MIT
 */
!function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){var i={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},t={init:function(r){return this.each((function(){var a=e(this),o=[];for(var c in e.fn.timepicker.defaults)a.data(c)&&(o[c]=a.data(c));var l=e.extend({},e.fn.timepicker.defaults,o,r);if(l.lang&&(i=e.extend(i,l.lang)),l=n(l),a.data("timepicker-settings",l),a.addClass("ui-timepicker-input"),l.useSelect)s(a);else{if(a.prop("autocomplete","off"),l.showOn)for(var u in l.showOn)a.on(l.showOn[u]+".timepicker",t.show);a.on("change.timepicker",m),a.on("keydown.timepicker",g),a.on("keyup.timepicker",k),l.disableTextInput&&a.on("keydown.timepicker",h),m.call(a.get(0))}}))},show:function(i){var n=e(this),a=n.data("timepicker-settings");if(i&&i.preventDefault(),a.useSelect)n.data("timepicker-list").focus();else{l(n)&&n.blur();var o=n.data("timepicker-list");if(!n.prop("readonly")&&(o&&0!==o.length&&"function"!=typeof a.durationTime||(s(n),o=n.data("timepicker-list")),!r(o))){n.data("ui-timepicker-value",n.val()),p(n,o),t.hide(),o.show();var m={};a.orientation.match(/r/)?m.left=n.offset().left+n.outerWidth()-o.outerWidth()+parseInt(o.css("marginLeft").replace("px",""),10):m.left=n.offset().left+parseInt(o.css("marginLeft").replace("px",""),10),"t"==(a.orientation.match(/t/)?"t":a.orientation.match(/b/)?"b":n.offset().top+n.outerHeight(!0)+o.outerHeight()>e(window).height()+e(window).scrollTop()?"t":"b")?(o.addClass("ui-timepicker-positioned-top"),m.top=n.offset().top-o.outerHeight()+parseInt(o.css("marginTop").replace("px",""),10)):(o.removeClass("ui-timepicker-positioned-top"),m.top=n.offset().top+n.outerHeight()+parseInt(o.css("marginTop").replace("px",""),10)),o.offset(m);var f=o.find(".ui-timepicker-selected");if(!f.length){var h=w(d(n));null!==h?f=u(n,o,h):a.scrollDefault&&(f=u(n,o,a.scrollDefault()))}if(f&&f.length){var g=o.scrollTop()+f.position().top-f.outerHeight();o.scrollTop(g)}else o.scrollTop(0);return a.stopScrollPropagation&&e(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",(function(i){i.preventDefault();var t=e(this).scrollTop();e(this).scrollTop(t+i.originalEvent.deltaY)})),e(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",c),e(window).on("resize.ui-timepicker",c),a.closeOnWindowScroll&&e(document).on("scroll.ui-timepicker",c),n.trigger("showTimepicker"),this}}},hide:function(i){var t=e(this),n=t.data("timepicker-settings");return n&&n.useSelect&&t.blur(),e(".ui-timepicker-wrapper").each((function(){var i=e(this);if(r(i)){var t=i.data("timepicker-input"),n=t.data("timepicker-settings");n&&n.selectOnBlur&&v(t),i.hide(),t.trigger("hideTimepicker")}})),this},option:function(i,t){return"string"==typeof i&&void 0===t?e(this).data("timepicker-settings")[i]:this.each((function(){var r=e(this),a=r.data("timepicker-settings"),o=r.data("timepicker-list");"object"==typeof i?a=e.extend(a,i):"string"==typeof i&&(a[i]=t),a=n(a),r.data("timepicker-settings",a),o&&(o.remove(),r.data("timepicker-list",!1)),a.useSelect&&s(r)}))},getSecondsFromMidnight:function(){return w(d(this))},getTime:function(e){var i=d(this);if(!i)return null;var t=w(i);if(null===t)return null;e||(e=new Date);var r=new Date(e);return r.setHours(t/3600),r.setMinutes(t%3600/60),r.setSeconds(t%60),r.setMilliseconds(0),r},isVisible:function(){var e=this.data("timepicker-list");return!(!e||!r(e))},setTime:function(e){var i=this.data("timepicker-settings");if(i.forceRoundTime)var t=o(w(e),i);else t=b(w(e),i);return e&&null===t&&i.noneOption&&(t=e),f(this,t),this.data("timepicker-list")&&p(this,this.data("timepicker-list")),this},remove:function(){if(this.hasClass("ui-timepicker-input")){var e=this.data("timepicker-settings");return this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),this.removeData("timepicker-settings"),this.off(".timepicker"),this.data("timepicker-list")&&this.data("timepicker-list").remove(),e.useSelect&&this.show(),this.removeData("timepicker-list"),this}}};function r(e){var i=e[0];return i.offsetWidth>0&&i.offsetHeight>0}function n(i){if(i.minTime&&(i.minTime=w(i.minTime)),i.maxTime&&(i.maxTime=w(i.maxTime)),i.durationTime&&"function"!=typeof i.durationTime&&(i.durationTime=w(i.durationTime)),"now"==i.scrollDefault)i.scrollDefault=function(){return i.roundingFunction(w(new Date),i)};else if(i.scrollDefault&&"function"!=typeof i.scrollDefault){var t=i.scrollDefault;i.scrollDefault=function(){return i.roundingFunction(w(t),i)}}else i.minTime&&(i.scrollDefault=function(){return i.roundingFunction(i.minTime,i)});if("string"===e.type(i.timeFormat)&&i.timeFormat.match(/[gh]/)&&(i._twelveHourTime=!0),!1===i.showOnFocus&&-1!=i.showOn.indexOf("focus")&&i.showOn.splice(i.showOn.indexOf("focus"),1),i.disableTimeRanges.length>0){for(var r in i.disableTimeRanges)i.disableTimeRanges[r]=[w(i.disableTimeRanges[r][0]),w(i.disableTimeRanges[r][1])];i.disableTimeRanges=i.disableTimeRanges.sort((function(e,i){return e[0]-i[0]}));for(r=i.disableTimeRanges.length-1;r>0;r--)i.disableTimeRanges[r][0]<=i.disableTimeRanges[r-1][1]&&(i.disableTimeRanges[r-1]=[Math.min(i.disableTimeRanges[r][0],i.disableTimeRanges[r-1][0]),Math.max(i.disableTimeRanges[r][1],i.disableTimeRanges[r-1][1])],i.disableTimeRanges.splice(r,1))}return i}function s(i){var r=i.data("timepicker-settings"),n=i.data("timepicker-list");if(n&&n.length&&(n.remove(),i.data("timepicker-list",!1)),r.useSelect)var s=n=e("<select />",{class:"ui-timepicker-select"});else n=e("<ul />",{class:"ui-timepicker-list"}),(s=e("<div />",{class:"ui-timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(n);if(r.noneOption)if(!0===r.noneOption&&(r.noneOption=r.useSelect?"Time...":"None"),e.isArray(r.noneOption)){for(var c in r.noneOption)if(parseInt(c,10)==c){var u=a(r.noneOption[c],r.useSelect);n.append(u)}}else{u=a(r.noneOption,r.useSelect);n.append(u)}if(r.className&&s.addClass(r.className),(null!==r.minTime||null!==r.durationTime)&&r.showDuration){"function"==typeof r.step||r.step;s.addClass("ui-timepicker-with-duration"),s.addClass("ui-timepicker-step-"+r.step)}var m=r.minTime;"function"==typeof r.durationTime?m=w(r.durationTime()):null!==r.durationTime&&(m=r.durationTime);var d=null!==r.minTime?r.minTime:0,h=null!==r.maxTime?r.maxTime:d+86400-1;h<d&&(h+=86400),86399===h&&"string"===e.type(r.timeFormat)&&r.show2400&&(h=86400);var g=r.disableTimeRanges,k=0,y=g.length,x=r.step;"function"!=typeof x&&(x=function(){return r.step});c=d;for(var C=0;c<=h;c+=60*x(++C)){var D,H=c,O=b(H,r);if(r.useSelect)(D=e("<option />",{value:O})).text(O);else(D=e("<li />")).addClass(H%86400<43200?"ui-timepicker-am":"ui-timepicker-pm"),D.data("time",H<=86400?H:H%86400),D.text(O);if((null!==r.minTime||null!==r.durationTime)&&r.showDuration){var R=T(c-m,r.step);if(r.useSelect)D.text(D.text()+" ("+R+")");else{var S=e("<span />",{class:"ui-timepicker-duration"});S.text(" ("+R+")"),D.append(S)}}var M=!1;k<y&&(H>=g[k][1]&&(k+=1),g[k]&&H>=g[k][0]&&H<g[k][1]&&(M=r.hideDisabledTimes,r.useSelect?D.prop("disabled",!0):D.addClass("ui-timepicker-disabled"))),M||n.append(D)}if(s.data("timepicker-input",i),i.data("timepicker-list",s),r.useSelect)i.val()&&n.val(o(w(i.val()),r)),n.on("focus",(function(){e(this).data("timepicker-input").trigger("showTimepicker")})),n.on("blur",(function(){e(this).data("timepicker-input").trigger("hideTimepicker")})),n.on("change",(function(){f(i,e(this).val(),"select")})),f(i,n.val(),"initial"),i.hide().after(n);else{var F=r.appendTo;"string"==typeof F?F=e(F):"function"==typeof F&&(F=F(i)),F.append(s),p(i,n),n.on("mousedown touchstart","li",(function(r){i.off("focus.timepicker"),i.on("focus.timepicker-ie-hack",(function(){i.off("focus.timepicker-ie-hack"),i.on("focus.timepicker",t.show)})),l(i)||i[0].focus(),n.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),v(i)&&(i.trigger("hideTimepicker"),n.on("mouseup.timepicker touchend.timepicker","li",(function(e){n.off("mouseup.timepicker touchend.timepicker"),s.hide()})))}))}}function a(i,t){var r,n,s;return"object"==typeof i?(r=i.label,n=i.className,s=i.value):"string"==typeof i?r=i:e.error("Invalid noneOption value"),t?e("<option />",{value:s,class:n,text:r}):e("<li />",{class:n,text:r}).data("time",String(s))}function o(e,i){if(null!==(e=i.roundingFunction(e,i)))return b(e,i)}function c(i){var r=e(i.target);0===r.closest(".ui-timepicker-input").length&&0===r.closest(".ui-timepicker-wrapper").length&&(t.hide(),e(document).unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}function l(e){var i=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&i.disableTouchKeyboard}function u(i,t,r){if(!r&&0!==r)return!1;var n=i.data("timepicker-settings"),s=!1;r=n.roundingFunction(r,n);return t.find("li").each((function(i,t){var n=e(t);if("number"==typeof n.data("time"))return n.data("time")==r?(s=n,!1):void 0})),s}function p(e,i){i.find("li").removeClass("ui-timepicker-selected");var t=w(d(e),e.data("timepicker-settings"));if(null!==t){var r=u(e,i,t);if(r){var n=r.offset().top-i.offset().top;(n+r.outerHeight()>i.outerHeight()||n<0)&&i.scrollTop(i.scrollTop()+r.position().top-r.outerHeight()),r.addClass("ui-timepicker-selected")}}}function m(i,t){if(""!==this.value&&"timepicker"!=t){var r=e(this);if(!r.is(":focus")||i&&"change"==i.type){var n=r.data("timepicker-settings"),s=w(this.value,n);if(null!==s){var a=!1;null!==n.minTime&&s<n.minTime&&null!==n.maxTime&&s>n.maxTime&&(a=!0),e.each(n.disableTimeRanges,(function(){if(s>=this[0]&&s<this[1])return a=!0,!1})),n.forceRoundTime&&(s=n.roundingFunction(s,n));var o=b(s,n);a?f(r,o,"error")&&r.trigger("timeRangeError"):f(r,o)}else r.trigger("timeFormatError")}}}function d(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function f(e,i,t){if(e.is("input")){e.val(i);var r=e.data("timepicker-settings");r.useSelect&&"select"!=t&&"initial"!=t&&e.data("timepicker-list").val(o(w(i),r))}return e.data("ui-timepicker-value")!=i?(e.data("ui-timepicker-value",i),"select"==t?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=t&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function h(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function g(i){var n=e(this),s=n.data("timepicker-list");if(!s||!r(s)){if(40!=i.keyCode)return!0;t.show.call(n.get(0)),s=n.data("timepicker-list"),l(n)||n.focus()}switch(i.keyCode){case 13:return v(n)&&t.hide.apply(this),i.preventDefault(),!1;case 38:var a=s.find(".ui-timepicker-selected");return a.length?a.is(":first-child")||(a.removeClass("ui-timepicker-selected"),a.prev().addClass("ui-timepicker-selected"),a.prev().position().top<a.outerHeight()&&s.scrollTop(s.scrollTop()-a.outerHeight())):(s.find("li").each((function(i,t){if(e(t).position().top>0)return a=e(t),!1})),a.addClass("ui-timepicker-selected")),!1;case 40:return 0===(a=s.find(".ui-timepicker-selected")).length?(s.find("li").each((function(i,t){if(e(t).position().top>0)return a=e(t),!1})),a.addClass("ui-timepicker-selected")):a.is(":last-child")||(a.removeClass("ui-timepicker-selected"),a.next().addClass("ui-timepicker-selected"),a.next().position().top+2*a.outerHeight()>s.outerHeight()&&s.scrollTop(s.scrollTop()+a.outerHeight())),!1;case 27:s.find("li").removeClass("ui-timepicker-selected"),t.hide();break;case 9:t.hide();break;default:return!0}}function k(i){var t=e(this),n=t.data("timepicker-list"),s=t.data("timepicker-settings");if(!n||!r(n)||s.disableTextInput)return!0;switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:s.typeaheadHighlight?p(t,n):n.hide()}}function v(e){var i=e.data("timepicker-settings"),t=null,r=e.data("timepicker-list").find(".ui-timepicker-selected");return!r.hasClass("ui-timepicker-disabled")&&(r.length&&(t=r.data("time")),null!==t&&("string"!=typeof t&&(t=b(t,i)),f(e,t,"select")),!0)}function T(e,t){e=Math.abs(e);var r,n,s=Math.round(e/60),a=[];return s<60?a=[s,i.mins]:(r=Math.floor(s/60),n=s%60,30==t&&30==n&&(r+=i.decimal+5),a.push(r),a.push(1==r?i.hr:i.hrs),30!=t&&n&&(a.push(n),a.push(i.mins))),a.join(" ")}function b(t,r){if("number"!=typeof t)return null;var n=parseInt(t%60),s=parseInt(t/60%60),a=parseInt(t/3600%24),o=new Date(1970,0,2,a,s,n,0);if(isNaN(o.getTime()))return null;if("function"===e.type(r.timeFormat))return r.timeFormat(o);for(var c,l,u="",p=0;p<r.timeFormat.length;p++)switch(l=r.timeFormat.charAt(p)){case"a":u+=o.getHours()>11?i.pm:i.am;break;case"A":u+=o.getHours()>11?i.PM:i.AM;break;case"g":u+=0===(c=o.getHours()%12)?"12":c;break;case"G":c=o.getHours(),86400===t&&(c=r.show2400?24:0),u+=c;break;case"h":0!==(c=o.getHours()%12)&&c<10&&(c="0"+c),u+=0===c?"12":c;break;case"H":c=o.getHours(),86400===t&&(c=r.show2400?24:0),u+=c>9?c:"0"+c;break;case"i":u+=(s=o.getMinutes())>9?s:"0"+s;break;case"s":u+=(n=o.getSeconds())>9?n:"0"+n;break;case"\\":p++,u+=r.timeFormat.charAt(p);break;default:u+=l}return u}function w(e,t){if(""===e||null===e)return null;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;"a"!=(e=e.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)&&"p"!=e.slice(-1)||(e+="m");var r="("+i.am.replace(".","")+"|"+i.pm.replace(".","")+"|"+i.AM.replace(".","")+"|"+i.PM.replace(".","")+")?",n=new RegExp("^"+r+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+r+"$"),s=e.match(n);if(!s)return null;var a=parseInt(1*s[2],10),o=a>24?a%24:a,c=s[1]||s[5],l=o;if(o<=12&&c){var u=c==i.pm||c==i.PM;l=12==o?u?12:0:o+(u?12:0)}var p=3600*l+60*(1*s[3]||0)+(1*s[4]||0);if(o<12&&!c&&t&&t._twelveHourTime&&t.scrollDefault){var m=p-t.scrollDefault();m<0&&m>=-43200&&(p=(p+43200)%86400)}return p}e.fn.timepicker=function(i){return this.length?t[i]?this.hasClass("ui-timepicker-input")?t[i].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.timepicker"):t.init.apply(this,arguments):this},e.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],hideDisabledTimes:!1,disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,i){if(null===e)return null;if("number"!=typeof i.step)return e;var t=e%(60*i.step);return t>=30*i.step?e+=60*i.step-t:e-=t,86400==e&&i.show2400?e:e%86400},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1}}));