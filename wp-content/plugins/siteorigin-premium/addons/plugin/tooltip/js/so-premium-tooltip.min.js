window.SiteOriginPremium=window.SiteOriginPremium||{},SiteOriginPremium.setupTooltip=function(o){o(".so-widget-sow-image, .so-widget-sow-image-grid, .so-widget-sow-simple-masonry").each((function(t,e){var i=o(e);if(i.data("tooltip-enabled")){var s=i.data("tooltip-theme"),n=function(t){var e=t.attr("title");if(e){o(this.image).css("pointerEvents","none");var i=o('<div class="so-premium-tooltip">'+e+'<div class="callout"></div></div>');i.css("visibility","hidden"),i.addClass("theme-"+s),i.css("max-width",t.outerWidth());var n=t.parent().closest(":not( a )"),r=n.is(".sow-masonry-grid-item");r?n.parent().append(i):n.append(i);var a,u={top:0,left:0},l=i.find(".callout"),m=function(){var o=r?n.position():t.position(),e={top:o.top+u.top-i.outerHeight(),left:o.left+u.left-.5*i.outerWidth()};i.css(e)},d=function(){m(),i.fadeIn(100)};"follow_cursor"===soPremiumTooltipOptions.position&&i.css("pointer-events","none"),i.hide(),i.css("visibility","visible"),n.on(soPremiumTooltipOptions.show_trigger,(function(e){var s=i.get(0);if(i.is(":visible")||e.target===s||e.relatedTarget===s||e.relatedTarget===t.get(0))return!1;var p=r?n:t;l.removeClass("bottom").addClass("top"),l.css("pointer-events","none");var c=.5*l.outerHeight();switch(soPremiumTooltipOptions.position){case"follow_cursor":n.on("mousemove",(function(o){var e=t.outerHeight(),i=n.outerHeight(),s=e>i?.5*(e-i):0;u.top=o.offsetY-c-s;var r=t.outerWidth(),a=n.outerWidth(),l=r>a?.5*(r-a):0;u.left=o.offsetX-l,m()}));break;case"center":u.top=.5*p.outerHeight()-c,u.left=.5*p.outerWidth();break;case"top":u.top=0-c,u.left=.5*p.outerWidth();break;case"bottom":l.removeClass("top").addClass("bottom"),u.top=p.outerHeight()+i.outerHeight()+c,u.left=.5*p.outerWidth()}if("mouseover"===soPremiumTooltipOptions.show_trigger&&soPremiumTooltipOptions.show_delay&&soPremiumTooltipOptions.show_delay>0?(a&&clearTimeout(a),a=setTimeout((function(){a=null,d()}),soPremiumTooltipOptions.show_delay)):d(),"click"===soPremiumTooltipOptions.hide_trigger){var f=function(){i.fadeOut(100),o(window).off("click",f)};setTimeout((function(){o(window).on("click",f)}),100)}})),"mouseout"===soPremiumTooltipOptions.hide_trigger&&(n.on("mouseout",(function(t){a&&clearTimeout(a),t.relatedTarget===i.get(0)||o.contains(n.get(0),t.relatedTarget)||(i.fadeOut(100),n.off("mousemove",m))})),r&&i.on("mouseout",(function(o){o.relatedTarget!==t.get(0)&&(i.fadeOut(100),n.off("mousemove",m))})))}};i.find("img").each((function(t,e){function i(t){var e=o(t);t.complete?n(e):e.on("load",(function(){n(e)})).on("error",(function(){console.log("Could not setup tooltip. Image loading failed.")}))}e.classList.contains("jetpack-lazy-image")?o(e).on("jetpack-lazy-loaded-image",(function(o){i(o.target)})):i(e)}))}}))},jQuery((function(o){SiteOriginPremium.setupTooltip(o),window.sowb&&o(window.sowb).on("setup_widgets",(function(){SiteOriginPremium.setupTooltip(o)}))}));