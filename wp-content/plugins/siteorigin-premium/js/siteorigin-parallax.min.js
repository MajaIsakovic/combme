/**
 * @copyright Greg Priday - <https://siteorigin.com/>
 * @license GPL 3.0 http://www.gnu.org/licenses/gpl.html
 */
!function(i){i.fn.siteOriginParallax=function(o){var n=i(this);if("refreshParallax"===o)return n.trigger("refreshParallax");null===(o=i.extend({backgroundUrl:null,backgroundSize:null,backgroundAspectRatio:null,backgroundSizing:"scaled",limitMotion:"auto"},o)).backgroundAspectRatio&&(o.backgroundAspectRatio=o.backgroundSize[0]/o.backgroundSize[1]);var a=function(){try{var a,r=[n.outerWidth(),n.outerHeight()],t=n[0].getBoundingClientRect();if(void 0===n.data("siteorigin-parallax-init")&&n.css({"background-image":"url("+o.backgroundUrl+")"}),"auto"===o.limitMotion){var e=i(window).outerHeight();a=e<720?.55:e>1300?.45:-17e-5*(e-720)+.55}else a=o.limitMotion;var u=((t.bottom+(t.top-i(window).outerHeight()))/(i(window).outerHeight()+t.height)-1)/-2,c=0,g=1;if("scaled"===o.backgroundSizing){n.css("background-size","cover");var d=r[0]/o.backgroundSize[0];if(r[1]/o.backgroundSize[1]<d){if(t.top>-r[1]&&t.bottom-i(window).outerHeight()<r[1]){var s=o.backgroundSize[1]*d;a&&s>i(window).outerHeight()*a&&(u=u*(g=i(window).outerHeight()*a/s)+(1-g)/2),c=-(s-r[1])*u}n.css("background-position","0px "+c+"px")}else n.css("background-position","50% 50%")}else"original"===o.backgroundSizing&&(a&&o.backgroundSize[1]>i(window).outerHeight()*a&&(u=u*(g=i(window).outerHeight()*a/o.backgroundSize[1])+(1-g)/2),c=-(o.backgroundSize[1]-r[1])*u,n.css("background-size","auto"),n.css("background-position","50% "+c+"px"))}catch(i){n.css({"background-size":"scaled"===o.backgroundSizing?"cover":"auto","background-position":"50% 50%"})}};a(),i(window).on("scroll",a),i(window).on("resize",a),i(window).on("panelsStretchRows",a),n.on("refreshParallax",a)}}(jQuery),jQuery((function(i){i("[data-siteorigin-parallax]").each((function(){i(this).siteOriginParallax(i(this).data("siteorigin-parallax"))}))}));